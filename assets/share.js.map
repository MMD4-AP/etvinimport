{"version":3,"sources":["share.js"],"names":["customElements","get","define","DetailsDisclosure","[object Object]","super","this","elements","shareButton","querySelector","shareSummary","closeButton","successMessage","urlInput","urlToShare","value","document","location","href","navigator","share","mainDetailsToggle","setAttribute","classList","remove","addEventListener","url","title","toggleDetails","bind","copyToClipboard","close","open","add","textContent","focus","clipboard","writeText","then","window","accessibilityStrings","shareSuccess"],"mappings":"AAAKA,eAAeC,IAAI,iBACtBD,eAAeE,OAAO,eAAgB,cAA0BC,kBAC9DC,cACEC,QAEAC,KAAKC,SAAW,CACdC,YAAaF,KAAKG,cAAc,UAChCC,aAAcJ,KAAKG,cAAc,WACjCE,YAAaL,KAAKG,cAAc,wBAChCG,eAAgBN,KAAKG,cAAc,wBACnCI,SAAUP,KAAKG,cAAc,UAE/BH,KAAKQ,WAAaR,KAAKC,SAASM,SAAWP,KAAKC,SAASM,SAASE,MAAQC,SAASC,SAASC,KAExFC,UAAUC,OACZd,KAAKe,kBAAkBC,aAAa,SAAU,IAC9ChB,KAAKC,SAASC,YAAYe,UAAUC,OAAO,UAC3ClB,KAAKC,SAASC,YAAYiB,iBAAiB,QAAS,KAAQN,UAAUC,MAAM,CAAEM,IAAKpB,KAAKQ,WAAYa,MAAOX,SAASW,YAEpHrB,KAAKe,kBAAkBI,iBAAiB,SAAUnB,KAAKsB,cAAcC,KAAKvB,OAC1EA,KAAKe,kBAAkBZ,cAAc,uBAAuBgB,iBAAiB,QAASnB,KAAKwB,gBAAgBD,KAAKvB,OAChHA,KAAKe,kBAAkBZ,cAAc,wBAAwBgB,iBAAiB,QAASnB,KAAKyB,MAAMF,KAAKvB,QAI3GF,gBACOE,KAAKe,kBAAkBW,OAC1B1B,KAAKC,SAASK,eAAeW,UAAUU,IAAI,UAC3C3B,KAAKC,SAASK,eAAesB,YAAc,GAC3C5B,KAAKC,SAASI,YAAYY,UAAUU,IAAI,UACxC3B,KAAKC,SAASG,aAAayB,SAI/B/B,kBACEe,UAAUiB,UAAUC,UAAU/B,KAAKC,SAASM,SAASE,OAAOuB,KAAK,KAC/DhC,KAAKC,SAASK,eAAeW,UAAUC,OAAO,UAC9ClB,KAAKC,SAASK,eAAesB,YAAcK,OAAOC,qBAAqBC,aACvEnC,KAAKC,SAASI,YAAYY,UAAUC,OAAO,UAC3ClB,KAAKC,SAASI,YAAYwB,UAI9B/B,UAAUsB,GACRpB,KAAKQ,WAAaY,EAClBpB,KAAKC,SAASM,SAASE,MAAQW","file":"share.js","sourcesContent":["if (!customElements.get('share-button')) {\n  customElements.define('share-button', class ShareButton extends DetailsDisclosure {\n    constructor() {\n      super();\n\n      this.elements = {\n        shareButton: this.querySelector('button'),\n        shareSummary: this.querySelector('summary'),\n        closeButton: this.querySelector('.share-button__close'),\n        successMessage: this.querySelector('[id^=\"ShareMessage\"]'),\n        urlInput: this.querySelector('input')\n      }\n      this.urlToShare = this.elements.urlInput ? this.elements.urlInput.value : document.location.href;\n\n      if (navigator.share) {\n        this.mainDetailsToggle.setAttribute('hidden', '');\n        this.elements.shareButton.classList.remove('hidden');\n        this.elements.shareButton.addEventListener('click', () => { navigator.share({ url: this.urlToShare, title: document.title }) });\n      } else {\n        this.mainDetailsToggle.addEventListener('toggle', this.toggleDetails.bind(this));\n        this.mainDetailsToggle.querySelector('.share-button__copy').addEventListener('click', this.copyToClipboard.bind(this));\n        this.mainDetailsToggle.querySelector('.share-button__close').addEventListener('click', this.close.bind(this));\n      }\n    }\n\n    toggleDetails() {\n      if (!this.mainDetailsToggle.open) {\n        this.elements.successMessage.classList.add('hidden');\n        this.elements.successMessage.textContent = '';\n        this.elements.closeButton.classList.add('hidden');\n        this.elements.shareSummary.focus();\n      }\n    }\n\n    copyToClipboard() {\n      navigator.clipboard.writeText(this.elements.urlInput.value).then(() => {\n        this.elements.successMessage.classList.remove('hidden');\n        this.elements.successMessage.textContent = window.accessibilityStrings.shareSuccess;\n        this.elements.closeButton.classList.remove('hidden');\n        this.elements.closeButton.focus();\n      });\n    }\n\n    updateUrl(url) {\n      this.urlToShare = url;\n      this.elements.urlInput.value = url;\n    }\n  });\n}\n"]}