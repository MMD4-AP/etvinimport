{"version":3,"sources":["details-disclosure.js"],"names":["DetailsDisclosure","HTMLElement","[object Object]","super","this","mainDetailsToggle","querySelector","header","content","nextElementSibling","addEventListener","onFocusOut","bind","onToggle","setTimeout","contains","document","activeElement","close","animations","getAnimations","hasAttribute","forEach","animation","play","cancel","removeAttribute","setAttribute","customElements","define"],"mappings":"AAAA,MAAMA,0BAA0BC,YAC9BC,cACEC,QACAC,KAAKC,kBAAoBD,KAAKE,cAAc,WAC5CF,KAAKG,OAASH,KAAKE,cAAc,WACjCF,KAAKI,QAAUJ,KAAKC,kBAAkBC,cAAc,WAAWG,mBAE/DL,KAAKC,kBAAkBK,iBAAiB,WAAYN,KAAKO,WAAWC,KAAKR,OACzEA,KAAKC,kBAAkBK,iBAAiB,SAAUN,KAAKS,SAASD,KAAKR,OAGvEF,aACEY,WAAW,KACJV,KAAKW,SAASC,SAASC,gBAAgBb,KAAKc,UAIrDhB,WACOE,KAAKe,aACRf,KAAKe,WAAaf,KAAKI,QAAQY,iBAG7BhB,KAAKC,kBAAkBgB,aAAa,QACtCjB,KAAKe,WAAWG,QAAQC,GAAaA,EAAUC,QAE/CpB,KAAKe,WAAWG,QAAQC,GAAaA,EAAUE,UAKnDvB,QACEE,KAAKC,kBAAkBqB,gBAAgB,QACvCtB,KAAKC,kBAAkBC,cAAc,WAAWqB,aAAa,iBAAiB,IAIlFC,eAAeC,OAAO,qBAAsB7B","file":"details-disclosure.js","sourcesContent":["class DetailsDisclosure extends HTMLElement {\n  constructor() {\n    super();\n    this.mainDetailsToggle = this.querySelector('details');\n    this.header = this.querySelector('.header');\n    this.content = this.mainDetailsToggle.querySelector('summary').nextElementSibling;\n\n    this.mainDetailsToggle.addEventListener('focusout', this.onFocusOut.bind(this));\n    this.mainDetailsToggle.addEventListener('toggle', this.onToggle.bind(this));\n  }\n\n  onFocusOut() {\n    setTimeout(() => {\n      if (!this.contains(document.activeElement)) this.close();\n    })\n  }\n\n  onToggle() {\n    if (!this.animations) {\n      this.animations = this.content.getAnimations();\n    }\n\n    if (this.mainDetailsToggle.hasAttribute('open')) {\n      this.animations.forEach(animation => animation.play());\n    } else {\n      this.animations.forEach(animation => animation.cancel());\n\n    }\n  }\n\n  close() {\n    this.mainDetailsToggle.removeAttribute('open');\n    this.mainDetailsToggle.querySelector('summary').setAttribute('aria-expanded', false);\n  }\n}\n\ncustomElements.define('details-disclosure', DetailsDisclosure);\n"]}