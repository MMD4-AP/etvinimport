{"version":3,"sources":["product-model.js"],"names":["customElements","get","define","DeferredMedia","[object Object]","super","loadContent","Shopify","loadFeatures","name","version","onLoad","this","setupModelViewerUI","bind","errors","modelViewerUI","ModelViewerUI","querySelector","window","ProductModel","setupShopifyXR","ShopifyXR","document","querySelectorAll","forEach","modelJSON","addModels","JSON","parse","textContent","remove","setupXRElements","addEventListener","loadShopifyXR"],"mappings":"AAAKA,eAAeC,IAAI,kBACtBD,eAAeE,OAAO,gBAAiB,cAA2BC,cAChEC,cACEC,QAGFD,cACEC,MAAMC,cAENC,QAAQC,aAAa,CACnB,CACEC,KAAM,kBACNC,QAAS,MACTC,OAAQC,KAAKC,mBAAmBC,KAAKF,SAK3CR,mBAAmBW,GACbA,IAEJH,KAAKI,cAAgB,IAAIT,QAAQU,cAAcL,KAAKM,cAAc,qBAKxEC,OAAOC,aAAe,CACpBhB,gBACEG,QAAQC,aAAa,CACnB,CACEC,KAAM,aACNC,QAAS,MACTC,OAAQC,KAAKS,eAAeP,KAAKF,UAKvCR,eAAeW,GACTA,IAECI,OAAOG,WAOZC,SAASC,iBAAiB,wBAAwBC,QAASC,IACzDP,OAAOG,UAAUK,UAAUC,KAAKC,MAAMH,EAAUI,cAChDJ,EAAUK,WAEZZ,OAAOG,UAAUU,mBAVfT,SAASU,iBAAiB,yBAA0B,IAClDrB,KAAKS,qBAabF,OAAOc,iBAAiB,mBAAoB,KACtCd,OAAOC,cAAcD,OAAOC,aAAac","file":"product-model.js","sourcesContent":["if (!customElements.get('product-model')) {\n  customElements.define('product-model', class ProductModel extends DeferredMedia {\n    constructor() {\n      super();\n    }\n\n    loadContent() {\n      super.loadContent();\n\n      Shopify.loadFeatures([\n        {\n          name: 'model-viewer-ui',\n          version: '1.0',\n          onLoad: this.setupModelViewerUI.bind(this),\n        },\n      ]);\n    }\n\n    setupModelViewerUI(errors) {\n      if (errors) return;\n\n      this.modelViewerUI = new Shopify.ModelViewerUI(this.querySelector('model-viewer'));\n    }\n  });\n}\n\nwindow.ProductModel = {\n  loadShopifyXR() {\n    Shopify.loadFeatures([\n      {\n        name: 'shopify-xr',\n        version: '1.0',\n        onLoad: this.setupShopifyXR.bind(this),\n      },\n    ]);\n  },\n\n  setupShopifyXR(errors) {\n    if (errors) return;\n\n    if (!window.ShopifyXR) {\n      document.addEventListener('shopify_xr_initialized', () =>\n        this.setupShopifyXR()\n      );\n      return;\n    }\n\n    document.querySelectorAll('[id^=\"ProductJSON-\"]').forEach((modelJSON) => {\n      window.ShopifyXR.addModels(JSON.parse(modelJSON.textContent));\n      modelJSON.remove();\n    });\n    window.ShopifyXR.setupXRElements();\n  },\n};\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  if (window.ProductModel) window.ProductModel.loadShopifyXR();\n});\n"]}