{{ 'component-announcement-swiper.css' | asset_url | stylesheet_tag }}
<script src="{{ 'announcement-swiper.js' | asset_url }}" defer="defer"></script>


<div id="{{ section.id }}" class="swiper announcement-swiper">
    <div class="swiper-wrapper">
    {%- for block in section.blocks -%}
        <div class="swiper-slide">
            <img src="{{ block.settings.announcement_icon | image_url: width: 15 }}" alt="{{ block.settings.announcement_icon.alt }}" /> 
            {% if block.settings.button_link != blank %}
                <a href="{{ block.settings.button_link}}" class="link animate-arrow">
                    {{ block.settings.announcement_text }} <span class="icon-wrap"><svg viewBox="0 0 14 10" fill="none" aria-hidden="true" focusable="false" role="presentation" class="icon icon-arrow" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.537.808a.5.5 0 01.817-.162l4 4a.5.5 0 010 .708l-4 4a.5.5 0 11-.708-.708L11.793 5.5H1a.5.5 0 010-1h10.793L8.646 1.354a.5.5 0 01-.109-.546z" fill="currentColor"></path></svg></span>
                </a>
            {% else %}
                <p>
                    {{ block.settings.announcement_text }}
                </p>
            {% endif %}
        </div>
    {%- endfor -%}
    </div>
    <div class="swiper-button-next">
        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="27" fill="currentColor" viewBox="0 0 15 27">
            <path fill="#ffffff" d="m.316 1.942 11.267 11.557L.316 25.057a1.105 1.105 0 0 0 0 1.545 1.053 1.053 0 0 0 1.503 0l11.988-12.295a1.156 1.156 0 0 0 0-1.614L1.821.397a1.052 1.052 0 0 0-1.507 0 1.105 1.105 0 0 0 0 1.545h.002Z"/>
        </svg>
    </div>
    <div class="swiper-button-prev">
        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="27" fill="currentColor" viewBox="0 0 15 27">
            <path fill="#ffffff" d="m.316 1.942 11.267 11.557L.316 25.057a1.105 1.105 0 0 0 0 1.545 1.053 1.053 0 0 0 1.503 0l11.988-12.295a1.156 1.156 0 0 0 0-1.614L1.821.397a1.052 1.052 0 0 0-1.507 0 1.105 1.105 0 0 0 0 1.545h.002Z"/>
        </svg>
    </div>
</div>



{% schema %}
{
    "name":"Annonceringsswiper",
    "max_blocks": 3,
    "settings": [
    ],
    "blocks":[
        {
            "type":"announcement",
            "name":"Annoncering",
            "settings":[
                {
                    "type":"header",
                    "content":"Annonceringsikon"
                },
                {
                    "type": "image_picker",
                    "id": "announcement_icon",
                    "label": "Annonceringsikon"
                },
                {
                    "type":"header",
                    "content":"Annonceringstekst"
                },
                {
                    "type":"text",
                    "id":"announcement_text",
                    "default":"Annonceringstekst",
                    "label":"Annonceringstekst"
                },
                {
                    "type": "url",
                    "id": "button_link",
                    "label": "Button link"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Annonceringsswiper",
            "blocks": [
                {
                    "type": "announcement"
                }
            ]
        }
    ]
}
{% endschema %}